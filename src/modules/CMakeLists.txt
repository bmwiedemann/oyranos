# --- dependencies ---

# --- variables ---
SET( OY_MODULE_NAME "_cmm_module" )

# --- normal modules ---

ADD_SUBDIRECTORY( color/modules )

# --- meta modules ---

ADD_SUBDIRECTORY( oyranos-meta )

SET( OY_MODULE_LIBRARIES ${OY_MODULE_LIBRARIES} PARENT_SCOPE )

IF(ENABLE_STATIC_LIBS_${PROJECT_UP_NAME})
  SET( OY_MODULE oall )
  SET( OY_MODULE_LIB ${PACKAGE_NAME}_${OY_MODULE}${OY_MODULE_NAME}-static )
  SET( SOURCES ${CMAKE_CURRENT_SOURCE_DIR}/${PACKAGE_NAME}_cmm_${OY_MODULE}.c )
  ADD_LIBRARY( ${OY_MODULE_LIB} STATIC ${SOURCES} )
  SET_TARGET_PROPERTIES ( ${OY_MODULE_LIB} PROPERTIES COMPILE_DEFINITIONS "COMPILE_STATIC=1" )
  #TARGET_LINK_LIBRARIES ( ${OY_MODULE_LIB}
  #         ${OY_MODULE_STATIC}
  #         ${OY_MODULE_LIBRARIES} )

  SET( SOURCES_STATIC ${SOURCES_STATIC} ${SOURCES} PARENT_SCOPE )
  SET( DEFS_STATIC ${DEFS_STATIC} PARENT_SCOPE )
  SET( OY_MODULE_STATIC ${OY_MODULE_STATIC} PARENT_SCOPE )
ENDIF(ENABLE_STATIC_LIBS_${PROJECT_UP_NAME})
